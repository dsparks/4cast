:root{
  --bg:#0a0d12;
  --panel:#10151d;
  --ink:#eaf0f8;
  --muted:#9fb0c6;
  --accent:#7ab8ff;

  --temp:#ff6464;
  --dew:#56c271;
  --pop:#5ab0ff;
  --cloud:#9aa3af;
  --hum:#cddc39;
  --press:#1f2937;
  --wind:#6f8bff;
  --qpf:#00c1d4;
  --qpfacc:#0093a6;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial;
  color:var(--ink);
  background:linear-gradient(180deg,#0a0d12 0%, #0e131a 100%);
}

.topbar{
  display:flex; gap:1rem; align-items:center; justify-content:space-between;
  padding:.75rem 1rem; background:#0f141b; border-bottom:1px solid #1a2230;
  position:sticky; top:0; z-index:10;
}
.brand{font-weight:700; letter-spacing:.5px}
.search{display:flex; gap:.5rem}
.search input{
  width:18rem; max-width:60vw;
  padding:.5rem .6rem; border-radius:.5rem; border:1px solid #2a3242;
  background:#0c1117; color:var(--ink);
}
.search button{
  padding:.5rem .75rem; border:1px solid #2a3242;
  border-radius:.5rem; background:#141a22; color:var(--ink);
  cursor:pointer;
}
.search button:hover{background:#1a212b}

main{padding:1rem; max-width:1100px; margin:0 auto}

.meta{display:flex; gap:1rem; align-items:center; color:var(--muted); margin:.5rem 0 1rem}
.place{font-weight:600; color:var(--ink)}
.updated{font-size:.9rem}

.days{
  display:grid; grid-template-columns:repeat(auto-fit,minmax(110px,1fr));
  gap:.75rem; margin-bottom:1rem;
}
.day{
  background:var(--panel); border:1px solid #1b2331; border-radius:.75rem;
  padding:.6rem .6rem .4rem; display:flex; flex-direction:column; gap:.25rem;
}
.day .name{font-weight:600}
.day .icon{height:44px}
.day .temps{display:flex; gap:.5rem; font-size:.95rem}
.day .temps .hi{color:var(--ink); font-weight:700}
.day .temps .lo{color:var(--muted)}
.day .desc{color:var(--muted); font-size:.85rem}

/* --- HARDENED CONTAINER: fixes runaway growth --- */
.chart-wrap{
  background:var(--panel); border:1px solid #1b2331; border-radius:.75rem;
  padding:.5rem .75rem 1rem;
  height:520px;
  min-height:520px;
  max-height:520px;
  position:relative;
  overflow:hidden;
  contain: layout size paint; /* break resize feedback loops */
}
#forecastChart{
  display:block;
  width:100%;
  height:100%;
}
.hover-readout{
  margin-top:.35rem; color:var(--muted); font-family:ui-monospace,Consolas,Menlo,monospace;
  font-size:.92rem;
}

.legend{
  display:flex; flex-wrap:wrap; gap:.75rem; margin:.6rem 0 1.1rem; color:var(--muted);
}
.legend-item::before{
  content:""; display:inline-block; width:12px; height:12px; margin-right:.35rem; border-radius:2px; vertical-align:-2px;
}
.legend-item.temp::before{background:var(--temp)}
.legend-item.dew::before{background:var(--dew)}
.legend-item.pop::before{background:var(--pop)}
.legend-item.cloud::before{background:var(--cloud)}
.legend-item.hum::before{background:var(--hum)}
.legend-item.wind::before{background:var(--wind)}
.legend-item.press::before{background:var(--press)}
.legend-item.qpf::before{background:var(--qpf)}
.legend-item.qpfacc::before{background:var(--qpfacc)}

a{color:var(--accent)}
